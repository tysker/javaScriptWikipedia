<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Async Await</title>
  </head>
  <body></body>
  <script>
    function makeRequest(location) {
      return new Promise((resolve, reject) => {
        console.log(`Making Request to ${location}`);
        if (location === "Google") {
          resolve("Google says hi");
        } else {
          reject("We can only talk to Google");
        }
      });
    }

    function processRequest(response) {
      return new Promise((resolve, reject) => {
        console.log(`Processing response`);
        resolve(`Extra Information + ${response}`);
      });
    }

    async function doWork(mes) {
      try {
        const response = await makeRequest(mes);
        console.log("Response Received");
        const processedResponse = await processRequest(response);
        console.log(processedResponse);
      } catch (error) {
        console.log(error);
      }
    }

    doWork('Facebook');

    /*The promise way
    makeRequest('Google').then(response => {
        console.log('Response Received')
        return processRequest(response)
    }).then(processedResponse => {
        console.log(processedResponse);
    }).catch(err => console.log(err))
    */
  </script>
</html>
